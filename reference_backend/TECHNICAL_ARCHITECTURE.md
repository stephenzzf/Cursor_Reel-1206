# æŠ€æœ¯æ¶æ„æ–‡æ¡£

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æ•´ä½“æ¶æ„](#æ•´ä½“æ¶æ„)
3. [åç«¯æ¶æ„](#åç«¯æ¶æ„)
4. [å‰ç«¯æ¶æ„](#å‰ç«¯æ¶æ„)
5. [æ ¸å¿ƒæœåŠ¡](#æ ¸å¿ƒæœåŠ¡)
6. [æ•°æ®æµ](#æ•°æ®æµ)
7. [API æ¥å£](#api-æ¥å£)
8. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
9. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
10. [å®‰å…¨ä¸é…ç½®](#å®‰å…¨ä¸é…ç½®)

---

## ç³»ç»Ÿæ¦‚è¿°

AIS_Image æ˜¯ä¸€ä¸ªåŸºäº AI çš„å†…å®¹åˆ›ä½œå¹³å°ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

- **SEO å†…å®¹åˆ›ä½œå·¥ä½œæµ**ï¼šä»ç½‘ç«™åˆ†æåˆ°å†…å®¹ç”Ÿæˆçš„å…¨æµç¨‹ SEO å†…å®¹åˆ›ä½œ
- **å›¾ç‰‡ç”Ÿæˆ**ï¼šåŸºäº Gemini Image API çš„æ™ºèƒ½å›¾ç‰‡ç”Ÿæˆä¸ç¼–è¾‘
- **è§†é¢‘ç”Ÿæˆ**ï¼šåŸºäº Google VEO 3.1 çš„è§†é¢‘ç”ŸæˆæœåŠ¡
- **å“ç‰Œåˆ†æ**ï¼šç½‘ç«™å“ç‰Œç”»åƒåˆ†æä¸èµ„äº§æå–

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **å¤šæ¨¡æ€ AI èƒ½åŠ›**ï¼šé›†æˆ Google Gemini 2.5 ç³»åˆ—æ¨¡å‹ï¼ˆFlash/Proï¼‰
- ğŸ”„ **å·¥ä½œæµé©±åŠ¨**ï¼šSEO å†…å®¹åˆ›ä½œé‡‡ç”¨å¤šæ­¥éª¤å·¥ä½œæµè®¾è®¡
- ğŸ¨ **åˆ›æ„å¢å¼º**ï¼šæä¾›æç¤ºè¯ä¼˜åŒ–ã€åˆ›æ„æ–¹å‘ç”Ÿæˆç­‰åŠŸèƒ½
- ğŸ“Š **æ™ºèƒ½åˆ†æ**ï¼šSEO è¯Šæ–­ã€ç«äº‰å¯¹æ‰‹åˆ†æã€å†…å®¹å¥åº·åº¦æ£€æŸ¥
- ğŸš€ **é«˜æ€§èƒ½**ï¼šå‰åç«¯åˆ†ç¦»ï¼Œæ”¯æŒå¼‚æ­¥å¤„ç†

---

## æ•´ä½“æ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±‚ (Frontend)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ LaunchPage   â”‚  â”‚ WorkspacePageâ”‚  â”‚ Image/Video  â”‚      â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚ Generation   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                 â”‚                 â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         Service Layer (API Clients)              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/HTTPS
                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     åç«¯å±‚ (Backend)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Flask Application (app.py)             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚   SEO    â”‚  â”‚  Image   â”‚  â”‚  Video   â”‚         â”‚   â”‚
â”‚  â”‚  â”‚  Routes  â”‚  â”‚  Routes  â”‚  â”‚  Routes  â”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                 â”‚                 â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         Service Layer                             â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚     â”‚
â”‚  â”‚  â”‚ GeminiServiceâ”‚  â”‚VideoAssetSvc â”‚              â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚ Google Geminiâ”‚ â”‚  Firebase   â”‚ â”‚ Google Cloudâ”‚
â”‚     API      â”‚ â”‚ (Firestore/ â”‚ â”‚   Storage   â”‚
â”‚              â”‚ â”‚  Storage)   â”‚ â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶æ„ç‰¹ç‚¹

1. **å‰åç«¯åˆ†ç¦»**ï¼šå‰ç«¯ React SPAï¼Œåç«¯ RESTful API
2. **æ¨¡å—åŒ–è®¾è®¡**ï¼šè·¯ç”±ã€æœåŠ¡ã€å·¥å…·åˆ†å±‚æ¸…æ™°
3. **æœåŠ¡åŒ–æ¶æ„**ï¼šæ ¸å¿ƒåŠŸèƒ½å°è£…ä¸ºç‹¬ç«‹æœåŠ¡
4. **äº‘æœåŠ¡é›†æˆ**ï¼šFirebaseã€GCSã€Gemini API

---

## åç«¯æ¶æ„

### ç›®å½•ç»“æ„

```
backend/
â”œâ”€â”€ app.py                    # Flask åº”ç”¨ä¸»å…¥å£
â”œâ”€â”€ requirements.txt          # Python ä¾èµ–
â”œâ”€â”€ .env                      # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ routes/                   # è·¯ç”±æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ seo.py               # SEO å·¥ä½œæµè·¯ç”±
â”‚   â”œâ”€â”€ seo_competitors.py   # ç«äº‰å¯¹æ‰‹åˆ†æè·¯ç”±
â”‚   â”œâ”€â”€ image.py             # å›¾ç‰‡ç”Ÿæˆè·¯ç”±
â”‚   â””â”€â”€ video.py             # è§†é¢‘ç”Ÿæˆè·¯ç”±
â”œâ”€â”€ services/                 # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ gemini_service.py     # Gemini API å°è£…æœåŠ¡
â”‚   â””â”€â”€ video_asset_service_v2.py  # è§†é¢‘èµ„æºç®¡ç†æœåŠ¡
â””â”€â”€ utils/                    # å·¥å…·å±‚
    â”œâ”€â”€ __init__.py
    â””â”€â”€ rag_knowledge.py      # RAG çŸ¥è¯†åº“å·¥å…·
```

### æ ¸å¿ƒæ¨¡å—

#### 1. Flask åº”ç”¨ä¸»å…¥å£ (`app.py`)

**èŒè´£**ï¼š
- åˆå§‹åŒ– Flask åº”ç”¨å’Œ CORS
- é…ç½® Google æœåŠ¡ï¼ˆGeminiã€GCSã€Custom Searchï¼‰
- æ³¨å†Œè·¯ç”±è“å›¾
- æä¾›å¥åº·æ£€æŸ¥ç«¯ç‚¹

**å…³é”®é…ç½®**ï¼š
```python
# ç¯å¢ƒå˜é‡åŠ è½½
GEMINI_API_KEY = os.getenv('GEMINI_API_KEY') or os.getenv('GOOGLE_API_KEY')
JINA_API_KEY = os.getenv('JINA_API_KEY')
GCP_PROJECT_ID = os.getenv('GCP_PROJECT_ID')
GCP_STORAGE_BUCKET_NAME = os.getenv('GCP_STORAGE_BUCKET_NAME')
GCP_CSE_API_KEY = os.getenv('GCP_CSE_API_KEY')
GCP_CSE_ID = os.getenv('GCP_CSE_ID')
```

**è·¯ç”±æ³¨å†Œ**ï¼š
```python
from routes.seo import seo_bp
from routes.seo_competitors import seo_competitors_bp
from routes.image import image_bp
from routes.video import video_bp

app.register_blueprint(seo_bp)
app.register_blueprint(seo_competitors_bp)
app.register_blueprint(image_bp)
app.register_blueprint(video_bp)
```

#### 2. SEO å·¥ä½œæµè·¯ç”± (`routes/seo.py`)

**æ ¸å¿ƒç«¯ç‚¹**ï¼š

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/seo/analyze-intent` | POST | åˆ†æç”¨æˆ·æ„å›¾ï¼ˆSEO/å›¾ç‰‡/è§†é¢‘ï¼‰ |
| `/api/seo/diagnosis` | POST | SEO è¯Šæ–­æŠ¥å‘Š |
| `/api/seo/competitors` | POST | ç«äº‰å¯¹æ‰‹åˆ†æ |
| `/api/seo/solution-board` | POST | ç”Ÿæˆè§£å†³æ–¹æ¡ˆæ¿ |
| `/api/seo/content-brief` | POST | ç”Ÿæˆå†…å®¹éœ€æ±‚ |
| `/api/seo/web-research` | POST | ç½‘ç»œç ”ç©¶ |
| `/api/seo/generate-outline` | POST | ç”Ÿæˆå¤§çº² |
| `/api/seo/write-article` | POST | æ’°å†™æ–‡ç«  |
| `/api/seo/polish-article` | POST | æ¶¦è‰²æ–‡ç«  |
| `/api/seo/generate-metadata` | POST | ç”Ÿæˆ SEO å…ƒæ•°æ® |
| `/api/seo/preflight-check` | POST | é¢„æ£€æ£€æŸ¥ |
| `/api/seo/auto-fix` | POST | è‡ªåŠ¨ä¿®å¤ |
| `/api/seo/generate-images` | POST | ç”Ÿæˆå¹¶åµŒå…¥å›¾ç‰‡ |
| `/api/seo/agent-action` | POST | è·å–ä»£ç†åŠ¨ä½œ |
| `/api/seo/new-content-idea` | POST | è·å–æ–°å†…å®¹æƒ³æ³• |

**å·¥ä½œæµè®¾è®¡**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ æ„å›¾åˆ†æ â†’ SEOè¯Šæ–­ â†’ ç«äº‰å¯¹æ‰‹åˆ†æ â†’ 
ç«äº‰åˆ†æ â†’ è§£å†³æ–¹æ¡ˆæ¿ â†’ å†…å®¹éœ€æ±‚ â†’ ç½‘ç»œç ”ç©¶ â†’ 
ç”Ÿæˆå¤§çº² â†’ æ’°å†™æ–‡ç«  â†’ æ¶¦è‰² â†’ ç”Ÿæˆå…ƒæ•°æ® â†’ 
é¢„æ£€æ£€æŸ¥ â†’ è‡ªåŠ¨ä¿®å¤ â†’ ç”Ÿæˆå›¾ç‰‡ â†’ å®Œæˆ
```

#### 3. å›¾ç‰‡ç”Ÿæˆè·¯ç”± (`routes/image.py`)

**æ ¸å¿ƒç«¯ç‚¹**ï¼š

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/image/creative-director` | POST | åˆ›æ„æ€»ç›‘ï¼šåˆ†æç”¨æˆ·æ„å›¾ |
| `/api/image/generate` | POST | ç”Ÿæˆå›¾ç‰‡ |
| `/api/image/enhance-prompt` | POST | ä¼˜åŒ–æç¤ºè¯ |
| `/api/image/design-plan` | POST | è·å–è®¾è®¡çµæ„Ÿæ–¹æ¡ˆ |
| `/api/image/reference-image` | POST | ç”Ÿæˆå‚è€ƒå›¾ç‰‡ |
| `/api/image/upscale` | POST | é«˜æ¸…æ”¾å¤§å›¾ç‰‡ |
| `/api/image/summarize-prompt` | POST | æ€»ç»“æç¤ºè¯ |
| `/api/image/remove-background` | POST | å»é™¤èƒŒæ™¯ |
| `/api/image/inspiration` | POST | ç”Ÿæˆçµæ„Ÿå›¾ç‰‡ |

**æ”¯æŒçš„æ¨¡å‹**ï¼š
- `gemini-2.5-flash-image` (banana/banana_pro)
- `gemini-2.5-pro` (ç”¨äºå¤æ‚ä»»åŠ¡)

#### 4. è§†é¢‘ç”Ÿæˆè·¯ç”± (`routes/video.py`)

**æ ¸å¿ƒç«¯ç‚¹**ï¼š

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/video/enhance-prompt` | POST | ä¼˜åŒ–æç¤ºè¯ï¼ˆVEO 3.1 ä¸“å®¶ï¼‰ |
| `/api/video/generate` | POST | ç”Ÿæˆè§†é¢‘ |
| `/api/video/status` | GET | æŸ¥è¯¢è§†é¢‘ç”ŸæˆçŠ¶æ€ |
| `/api/video/list` | GET | åˆ—å‡ºæ‰€æœ‰è§†é¢‘ |
| `/api/video/delete` | DELETE | åˆ é™¤è§†é¢‘ |

**VEO 3.1 ç‰¹æ€§**ï¼š
- æ”¯æŒå›¾ç‰‡ä¸Šä¼ åˆ° Files API
- å¼‚æ­¥è§†é¢‘ç”Ÿæˆ
- çŠ¶æ€è½®è¯¢æœºåˆ¶
- Firebase å­˜å‚¨é›†æˆ

#### 5. Gemini æœåŠ¡ (`services/gemini_service.py`)

**æ ¸å¿ƒåŠŸèƒ½**ï¼š

```python
class GeminiService:
    - generate_content()              # åŸºç¡€å†…å®¹ç”Ÿæˆ
    - generate_content_with_function_calling()  # å‡½æ•°è°ƒç”¨
    - generate_json()                  # JSON ç”Ÿæˆ
    - generate_image_with_aspect_ratio()  # å›¾ç‰‡ç”Ÿæˆï¼ˆFlash Imageï¼‰
    - generate_image_with_imagen()    # å›¾ç‰‡ç”Ÿæˆï¼ˆImagenï¼‰
    - generate_image_with_modality()  # å¤šæ¨¡æ€å›¾ç‰‡ç”Ÿæˆ
```

**æ¨¡å‹é€‰æ‹©ç­–ç•¥**ï¼š
- **Flash æ¨¡å‹** (`gemini-2.5-flash`)ï¼šå¿«é€Ÿå“åº”ï¼Œç”¨äºç®€å•ä»»åŠ¡
- **Pro æ¨¡å‹** (`gemini-2.5-pro`)ï¼šé«˜è´¨é‡è¾“å‡ºï¼Œç”¨äºå¤æ‚ä»»åŠ¡
- **Flash Image** (`gemini-2.5-flash-image`)ï¼šå›¾ç‰‡ç”Ÿæˆï¼Œæ”¯æŒ banana/banana_pro

#### 6. è§†é¢‘èµ„æºæœåŠ¡ (`services/video_asset_service_v2.py`)

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- Firebase Firestore æ•°æ®å­˜å‚¨
- Firebase Storage æ–‡ä»¶å­˜å‚¨
- è§†é¢‘å…ƒæ•°æ®ç®¡ç†
- çŠ¶æ€è·Ÿè¸ª

**æ•°æ®ç»“æ„**ï¼š
```python
{
    'video_id': str,
    'prompt': str,
    'status': 'pending' | 'processing' | 'completed' | 'failed',
    'created_at': datetime,
    'completed_at': datetime,
    'video_url': str,  # Firebase Storage URL
    'thumbnail_url': str
}
```

---

## å‰ç«¯æ¶æ„

### ç›®å½•ç»“æ„

```
frontend/
â”œâ”€â”€ App.tsx                    # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ index.tsx                  # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html                 # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts             # Vite é…ç½®
â”œâ”€â”€ package.json               # ä¾èµ–é…ç½®
â”œâ”€â”€ components/                # React ç»„ä»¶
â”‚   â”œâ”€â”€ LaunchPage.tsx         # å¯åŠ¨é¡µ
â”‚   â”œâ”€â”€ WorkspacePage.tsx      # SEO å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ ImageGenerationPage.tsx # å›¾ç‰‡ç”Ÿæˆé¡µ
â”‚   â”œâ”€â”€ VideoGenerationPage.tsx # è§†é¢‘ç”Ÿæˆé¡µ
â”‚   â”œâ”€â”€ BrandProfileModal.tsx  # å“ç‰Œç”»åƒæ¨¡æ€æ¡†
â”‚   â””â”€â”€ SeoDiagnosisModal.tsx  # SEO è¯Šæ–­æ¨¡æ€æ¡†
â””â”€â”€ services/                  # API æœåŠ¡å±‚
    â”œâ”€â”€ geminiService.ts       # Gemini API å®¢æˆ·ç«¯
    â”œâ”€â”€ geminiService_launch.ts # Launch é¡µ Gemini æœåŠ¡
    â”œâ”€â”€ geminiService_video.ts # è§†é¢‘ Gemini æœåŠ¡
    â”œâ”€â”€ imageService.ts        # å›¾ç‰‡ API æœåŠ¡
    â”œâ”€â”€ videoService.ts        # è§†é¢‘ API æœåŠ¡
    â”œâ”€â”€ seoService.ts          # SEO API æœåŠ¡
    â””â”€â”€ brandProfileService.ts # å“ç‰Œç”»åƒæœåŠ¡
```

### æ ¸å¿ƒç»„ä»¶

#### 1. åº”ç”¨ä¸»ç»„ä»¶ (`App.tsx`)

**çŠ¶æ€ç®¡ç†**ï¼š
```typescript
type Page = 'launch' | 'workspace' | 'image_generation' | 'video_generation';
const [page, setPage] = useState<Page>('launch');
```

**é¡µé¢è·¯ç”±**ï¼š
- `LaunchPage`: å¯åŠ¨é¡µï¼Œç”¨æˆ·æ„å›¾åˆ†æ
- `WorkspacePage`: SEO å†…å®¹åˆ›ä½œå·¥ä½œç©ºé—´
- `ImageGenerationPage`: å›¾ç‰‡ç”Ÿæˆå·¥ä½œæµ
- `VideoGenerationPage`: è§†é¢‘ç”Ÿæˆå·¥ä½œæµ

#### 2. Launch é¡µ (`LaunchPage.tsx`)

**åŠŸèƒ½**ï¼š
- ç”¨æˆ·è¾“å…¥æ„å›¾åˆ†æ
- è·¯ç”±åˆ°å¯¹åº”å·¥ä½œæµï¼ˆSEO/å›¾ç‰‡/è§†é¢‘ï¼‰
- çµæ„Ÿå¡ç‰‡å±•ç¤º

#### 3. Workspace é¡µ (`WorkspacePage.tsx`)

**åŠŸèƒ½**ï¼š
- å¤šæ­¥éª¤ SEO å·¥ä½œæµ
- å“ç‰Œç”»åƒç®¡ç†
- å†…å®¹åˆ›ä½œä¸ç¼–è¾‘
- å®æ—¶é¢„è§ˆ

#### 4. å›¾ç‰‡ç”Ÿæˆé¡µ (`ImageGenerationPage.tsx`)

**åŠŸèƒ½**ï¼š
- åˆ›æ„æ€»ç›‘å†³ç­–
- æç¤ºè¯ä¼˜åŒ–
- å›¾ç‰‡ç”Ÿæˆä¸ç¼–è¾‘
- èƒŒæ™¯å»é™¤ã€æ”¾å¤§ç­‰å·¥å…·

#### 5. è§†é¢‘ç”Ÿæˆé¡µ (`VideoGenerationPage.tsx`)

**åŠŸèƒ½**ï¼š
- VEO 3.1 æç¤ºè¯ä¼˜åŒ–
- è§†é¢‘ç”Ÿæˆ
- çŠ¶æ€ç›‘æ§
- è§†é¢‘åˆ—è¡¨ç®¡ç†

### æœåŠ¡å±‚

æ‰€æœ‰ API è°ƒç”¨å°è£…åœ¨ `services/` ç›®å½•ä¸‹ï¼Œæä¾›ç±»å‹å®‰å…¨çš„æ¥å£ï¼š

```typescript
// ç¤ºä¾‹ï¼šimageService.ts
export const imageService = {
  creativeDirector: (data: CreativeDirectorRequest) => Promise<CreativeDirectorResponse>,
  generate: (data: GenerateRequest) => Promise<GenerateResponse>,
  enhancePrompt: (data: EnhancePromptRequest) => Promise<EnhancedPrompt[]>,
  // ...
};
```

---

## æ ¸å¿ƒæœåŠ¡

### 1. Google Gemini API

**ç”¨é€”**ï¼š
- æ–‡æœ¬ç”Ÿæˆï¼ˆå†…å®¹åˆ›ä½œã€åˆ†æã€æ€»ç»“ï¼‰
- å›¾ç‰‡ç”Ÿæˆï¼ˆFlash Imageã€Imagenï¼‰
- å‡½æ•°è°ƒç”¨ï¼ˆæ„å›¾åˆ†æã€å†³ç­–ï¼‰
- JSON ç”Ÿæˆï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰

**æ¨¡å‹é€‰æ‹©**ï¼š
- `gemini-2.5-flash`: å¿«é€Ÿä»»åŠ¡ï¼Œæˆæœ¬ä½
- `gemini-2.5-pro`: å¤æ‚ä»»åŠ¡ï¼Œé«˜è´¨é‡
- `gemini-2.5-flash-image`: å›¾ç‰‡ç”Ÿæˆ

### 2. Firebase

**ç”¨é€”**ï¼š
- **Firestore**: è§†é¢‘å…ƒæ•°æ®å­˜å‚¨
- **Storage**: è§†é¢‘æ–‡ä»¶å­˜å‚¨

**é…ç½®**ï¼š
```python
FIREBASE_CREDENTIALS_PATH=./serviceAccountKey.json
FIREBASE_STORAGE_BUCKET=your-bucket-name
```

### 3. Google Cloud Storage

**ç”¨é€”**ï¼š
- å“ç‰Œèµ„äº§å­˜å‚¨ï¼ˆLogoã€å›¾ç‰‡ï¼‰
- å…¬å…± URL ç”Ÿæˆ

### 4. Jina Reader API

**ç”¨é€”**ï¼š
- ç½‘ç«™å†…å®¹æå–
- å“ç‰Œåˆ†ææ•°æ®æº

---

## æ•°æ®æµ

### SEO å†…å®¹åˆ›ä½œå·¥ä½œæµ

```
1. ç”¨æˆ·è¾“å…¥ URL
   â†“
2. æ„å›¾åˆ†æ (/api/seo/analyze-intent)
   â†“
3. SEO è¯Šæ–­ (/api/seo/diagnosis)
   â†“
4. ç«äº‰å¯¹æ‰‹åˆ†æ (/api/seo/competitors)
   â†“
5. ç«äº‰åˆ†æ (/api/seo/competitive-analysis)
   â†“
6. è§£å†³æ–¹æ¡ˆæ¿ (/api/seo/solution-board)
   â†“
7. å†…å®¹éœ€æ±‚ (/api/seo/content-brief)
   â†“
8. ç½‘ç»œç ”ç©¶ (/api/seo/web-research)
   â†“
9. ç”Ÿæˆå¤§çº² (/api/seo/generate-outline)
   â†“
10. æ’°å†™æ–‡ç«  (/api/seo/write-article)
   â†“
11. æ¶¦è‰² (/api/seo/polish-article)
   â†“
12. ç”Ÿæˆå…ƒæ•°æ® (/api/seo/generate-metadata)
   â†“
13. é¢„æ£€æ£€æŸ¥ (/api/seo/preflight-check)
   â†“
14. è‡ªåŠ¨ä¿®å¤ (/api/seo/auto-fix) [å¯é€‰]
   â†“
15. ç”Ÿæˆå›¾ç‰‡ (/api/seo/generate-images) [å¯é€‰]
   â†“
16. å®Œæˆ
```

### å›¾ç‰‡ç”Ÿæˆå·¥ä½œæµ

```
1. ç”¨æˆ·è¾“å…¥æç¤ºè¯
   â†“
2. åˆ›æ„æ€»ç›‘åˆ†æ (/api/image/creative-director)
   â†’ å†³ç­–ï¼šNEW_CREATION / EDIT_IMAGE / ANSWER_QUESTION
   â†“
3a. NEW_CREATION:
    - æç¤ºè¯ä¼˜åŒ– (/api/image/enhance-prompt)
    - ç”Ÿæˆå›¾ç‰‡ (/api/image/generate)
   
3b. EDIT_IMAGE:
    - ä½¿ç”¨ç›®æ ‡å›¾ç‰‡ ID
    - ç”Ÿæˆå›¾ç‰‡ (/api/image/generate)
   
3c. ANSWER_QUESTION:
    - ç›´æ¥å›ç­”
   â†“
4. å›¾ç‰‡åå¤„ç†ï¼ˆå¯é€‰ï¼‰
   - å»é™¤èƒŒæ™¯ (/api/image/remove-background)
   - é«˜æ¸…æ”¾å¤§ (/api/image/upscale)
```

### è§†é¢‘ç”Ÿæˆå·¥ä½œæµ

```
1. ç”¨æˆ·è¾“å…¥æç¤ºè¯
   â†“
2. æç¤ºè¯ä¼˜åŒ– (/api/video/enhance-prompt)
   â†’ ç”Ÿæˆ 3 ä¸ªåˆ›æ„æ–¹å‘
   â†“
3. ç”¨æˆ·é€‰æ‹©åˆ›æ„æ–¹å‘
   â†“
4. ä¸Šä¼ å‚è€ƒå›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
   â†“
5. ç”Ÿæˆè§†é¢‘ (/api/video/generate)
   â†’ è¿”å› video_id
   â†“
6. è½®è¯¢çŠ¶æ€ (/api/video/status)
   â†’ pending â†’ processing â†’ completed
   â†“
7. è·å–è§†é¢‘ URL
```

---

## API æ¥å£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8787`
- **åè®®**: HTTP/HTTPS
- **æ•°æ®æ ¼å¼**: JSON
- **CORS**: å·²å¯ç”¨

### é€šç”¨å“åº”æ ¼å¼

**æˆåŠŸå“åº”**ï¼š
```json
{
  "data": {...}
}
```

**é”™è¯¯å“åº”**ï¼š
```json
{
  "error": "é”™è¯¯ä¿¡æ¯"
}
```

### ä¸»è¦ API ç«¯ç‚¹

è¯¦è§å„è·¯ç”±æ¨¡å—æ–‡æ¡£ï¼š
- SEO API: `routes/seo.py`
- Image API: `routes/image.py`
- Video API: `routes/video.py`

---

## æŠ€æœ¯æ ˆ

### åç«¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.9+ | è¿è¡Œç¯å¢ƒ |
| Flask | 3.0.0 | Web æ¡†æ¶ |
| Flask-CORS | 4.0.0 | è·¨åŸŸæ”¯æŒ |
| google-generativeai | 0.3.2+ | Gemini API |
| google-genai | 1.0.0+ | Gemini API (æ–°) |
| google-cloud-storage | 2.14.0 | GCS å®¢æˆ·ç«¯ |
| google-api-python-client | 2.108.0 | Google API å®¢æˆ·ç«¯ |
| firebase-admin | 6.2.0+ | Firebase SDK |
| requests | 2.31.0 | HTTP å®¢æˆ·ç«¯ |
| python-dotenv | 1.0.0 | ç¯å¢ƒå˜é‡ç®¡ç† |

### å‰ç«¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19.2.0 | UI æ¡†æ¶ |
| TypeScript | 5.8.2 | ç±»å‹ç³»ç»Ÿ |
| Vite | 6.2.0 | æ„å»ºå·¥å…· |
| @google/genai | 1.28.0 | Gemini API å®¢æˆ·ç«¯ |

### å¼€å‘å·¥å…·

- **Vite**: å‰ç«¯å¼€å‘æœåŠ¡å™¨å’Œæ„å»ºå·¥å…·
- **Flask Debug Mode**: åç«¯å¼€å‘æ¨¡å¼
- **CORS**: è·¨åŸŸèµ„æºå…±äº«

---

## éƒ¨ç½²æ¶æ„

### å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨è„šæœ¬
./start_services.sh

# åç«¯
cd backend && python3 app.py
# è¿è¡Œåœ¨ http://localhost:8787

# å‰ç«¯
cd frontend && npm run dev
# è¿è¡Œåœ¨ http://localhost:3000
```

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

1. **åç«¯éƒ¨ç½²**ï¼š
   - ä½¿ç”¨ Gunicorn æˆ– uWSGI
   - é…ç½® Nginx åå‘ä»£ç†
   - å¯ç”¨ HTTPS
   - ç¯å¢ƒå˜é‡ç®¡ç†ï¼ˆ.env æˆ– Secrets Managerï¼‰

2. **å‰ç«¯éƒ¨ç½²**ï¼š
   - æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š`npm run build`
   - éƒ¨ç½²åˆ° CDNï¼ˆå¦‚ Cloudflareã€Vercelï¼‰
   - é…ç½® API ä»£ç†

3. **æ•°æ®åº“/å­˜å‚¨**ï¼š
   - Firebase Firestoreï¼šç”Ÿäº§ç¯å¢ƒé…ç½®
   - Firebase Storageï¼šç”Ÿäº§å­˜å‚¨æ¡¶
   - Google Cloud Storageï¼šç”Ÿäº§å­˜å‚¨æ¡¶

---

## å®‰å…¨ä¸é…ç½®

### ç¯å¢ƒå˜é‡

**åç«¯** (`backend/.env`):
```bash
# Gemini API
GEMINI_API_KEY=your_api_key
GOOGLE_API_KEY=your_api_key  # å…¼å®¹æ€§

# Jina Reader
JINA_API_KEY=your_api_key

# Google Cloud
GCP_PROJECT_ID=your_project_id
GCP_STORAGE_BUCKET_NAME=your_bucket_name
GCP_CSE_API_KEY=your_cse_api_key
GCP_CSE_ID=your_cse_id

# Firebase
FIREBASE_CREDENTIALS_PATH=./serviceAccountKey.json
FIREBASE_STORAGE_BUCKET=your-bucket-name

# Server
PORT=8787
FLASK_DEBUG=false
```

### å®‰å…¨æªæ–½

1. **API å¯†é’¥ç®¡ç†**ï¼š
   - æ‰€æœ‰ API å¯†é’¥å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
   - ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
   - ä½¿ç”¨ `.env` æ–‡ä»¶ï¼ˆä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼‰

2. **CORS é…ç½®**ï¼š
   - å¼€å‘ç¯å¢ƒï¼šå…è®¸æ‰€æœ‰æ¥æº
   - ç”Ÿäº§ç¯å¢ƒï¼šé™åˆ¶ä¸ºç‰¹å®šåŸŸå

3. **é”™è¯¯å¤„ç†**ï¼š
   - ä¸æš´éœ²æ•æ„Ÿä¿¡æ¯ç»™å®¢æˆ·ç«¯
   - ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼

4. **è¾“å…¥éªŒè¯**ï¼š
   - æ‰€æœ‰ API ç«¯ç‚¹éªŒè¯è¾“å…¥å‚æ•°
   - ä½¿ç”¨ç±»å‹æ£€æŸ¥ï¼ˆTypeScript/Pythonï¼‰

---

## æ€§èƒ½ä¼˜åŒ–

### åç«¯ä¼˜åŒ–

1. **æ¨¡å‹é€‰æ‹©**ï¼š
   - Flash æ¨¡å‹ç”¨äºå¿«é€Ÿä»»åŠ¡
   - Pro æ¨¡å‹ä»…ç”¨äºå¤æ‚ä»»åŠ¡

2. **å¼‚æ­¥å¤„ç†**ï¼š
   - è§†é¢‘ç”Ÿæˆé‡‡ç”¨å¼‚æ­¥æ¨¡å¼
   - çŠ¶æ€è½®è¯¢æœºåˆ¶

3. **ç¼“å­˜ç­–ç•¥**ï¼š
   - RAG çŸ¥è¯†åº“æœ¬åœ°ç¼“å­˜
   - å¯æ‰©å±• Redis ç¼“å­˜

### å‰ç«¯ä¼˜åŒ–

1. **ä»£ç åˆ†å‰²**ï¼š
   - æŒ‰é¡µé¢æ‡’åŠ è½½ç»„ä»¶
   - åŠ¨æ€å¯¼å…¥å¤§å‹ä¾èµ–

2. **å›¾ç‰‡ä¼˜åŒ–**ï¼š
   - Base64 å›¾ç‰‡å†…è”
   - è€ƒè™‘ä½¿ç”¨ CDN

3. **API è°ƒç”¨**ï¼š
   - è¯·æ±‚å»é‡
   - é”™è¯¯é‡è¯•æœºåˆ¶

---

## æ‰©å±•æ€§

### æ°´å¹³æ‰©å±•

- **åç«¯**ï¼šæ— çŠ¶æ€è®¾è®¡ï¼Œæ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- **å‰ç«¯**ï¼šé™æ€èµ„æºï¼Œå¯éƒ¨ç½²åˆ° CDN

### å‚ç›´æ‰©å±•

- **æ•°æ®åº“**ï¼šFirebase è‡ªåŠ¨æ‰©å±•
- **å­˜å‚¨**ï¼šGCS/Firebase Storage è‡ªåŠ¨æ‰©å±•

### åŠŸèƒ½æ‰©å±•

- **æ–°è·¯ç”±**ï¼šåœ¨ `routes/` ç›®å½•æ·»åŠ æ–°è“å›¾
- **æ–°æœåŠ¡**ï¼šåœ¨ `services/` ç›®å½•æ·»åŠ æ–°æœåŠ¡
- **æ–°ç»„ä»¶**ï¼šåœ¨ `components/` ç›®å½•æ·»åŠ æ–°ç»„ä»¶

---

## ç›‘æ§ä¸æ—¥å¿—

### æ—¥å¿—

- **åç«¯æ—¥å¿—**ï¼š`backend.log`
- **å‰ç«¯æ—¥å¿—**ï¼š`frontend.log`
- **åº”ç”¨æ—¥å¿—**ï¼šFlask æ ‡å‡†æ—¥å¿—

### ç›‘æ§å»ºè®®

1. **å¥åº·æ£€æŸ¥**ï¼š`/health` ç«¯ç‚¹
2. **é”™è¯¯è¿½è¸ª**ï¼šé›†æˆ Sentry æˆ–ç±»ä¼¼æœåŠ¡
3. **æ€§èƒ½ç›‘æ§**ï¼šAPM å·¥å…·ï¼ˆå¦‚ New Relicï¼‰

---

## ç‰ˆæœ¬å†å²

- **v1.0.0** (å½“å‰ç‰ˆæœ¬)
  - SEO å†…å®¹åˆ›ä½œå·¥ä½œæµ
  - å›¾ç‰‡ç”ŸæˆåŠŸèƒ½
  - è§†é¢‘ç”ŸæˆåŠŸèƒ½ï¼ˆVEO 3.1ï¼‰
  - å“ç‰Œåˆ†æåŠŸèƒ½

---

## å‚è€ƒèµ„æ–™

- [Flask æ–‡æ¡£](https://flask.palletsprojects.com/)
- [React æ–‡æ¡£](https://react.dev/)
- [Google Gemini API](https://ai.google.dev/)
- [Firebase æ–‡æ¡£](https://firebase.google.com/docs)
- [Vite æ–‡æ¡£](https://vitejs.dev/)

---

**æ–‡æ¡£æœ€åæ›´æ–°**: 2024-12-06

